[platformio]
default_envs = user_bootloader

[env:user_bootloader]
platform = espressif32
board = esp32doit-devkit-v1
framework = arduino

; Use OTA-swap partition table (OTA_0 = User Bootloader, OTA_1 = Gateway)
board_build.partitions = ../Meshtastic_original/firmware/variants/esp32/diy/custom_sx1276_oled_telegram/partitions_ota_swap.csv
board_build.flash_size = 4MB

; Bootloader configuration
board_build.bootloader = dio
board_build.f_flash = 40000000L
board_build.f_cpu = 240000000L

; Build flags
build_flags = 
    -D ARDUINO_ARCH_ESP32
    -D ESP32
    -D CORE_DEBUG_LEVEL=1
    
; Upload settings
upload_speed = 460800
monitor_speed = 115200
monitor_port = /dev/tty.usbserial-0001
upload_port = /dev/tty.usbserial-0001

; Dependencies
lib_deps = 
    ottowinter/ESPAsyncWebServer-esphome @ ^3.0.0
    esphome/AsyncTCP-esphome @ ^2.0.1

